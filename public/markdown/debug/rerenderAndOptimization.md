<!--
 * @Author: whisperer
 * @Date: 2019-08-27 10:15:44
 * @LastEditors: whisperer
 * @Description: 
 -->
#  前端页面的重绘检测与调优

```
由于前端对于性能的不断追求,影响应用性能的重绘和重排势必是我们需要面对的问题,下面总结一下学习的成果:
```

## 检测步骤

> 打开控制台(F12),切换到分离模式,使得开发者工具栏独立窗口展示

> 在开发者工具窗口  右上角设置的地方(三个竖着的点),点击出现下拉框,在More tools项中找到rendering  打开

> 这是下方会出现rendering的标签面板   勾选第一个选项 Paint flashing,这是页面就会高亮被重绘的区域

## 调优经验

> 有了上面的检测手段之后,我们可以知道有那些地方进行了不必要渲染,下面争对不必要渲染进行优化

> 1.针对未使用框架的页面,由于页面大多直接使用原生js或者jq等库进行dom操作,此时需要我们自己主观区分哪些需要被重绘,比如将更新细化到具体的文本span区域,而不是大范围的使用innerHTML进行更新

> 2.而对于使用框架的页面,这些页面的渲染机制已经被框架接管,无论是vue的数据收集,react的virtual dom/diff 或是 angular的scope  脏检查,都是框架对于最小化渲染进行的处理;
>思想都是:数据的改变引发视图的改变,检测数据的最小化改变,从而更新到最少的dom区域,几种框架的目的殊途同归.

> 3.(2)中说明了框架的优化作用,下面介绍我们还能进行的重绘优化:
>首先我们要知道可能触发重绘的情况,自身内容改变,以及对于兄弟节点或父节点造成影响导致的重绘
>对于自身内容改变,(1)(2)中已经进行了说明,而自身重绘对于父节点和兄弟节点的影响,我们可以有两种处理:
>1.使元素与兄弟节点不处在统一文档流  这样就不会影响到兄弟节点的位置,也就不会引起兄弟节点的重排
>2.对重绘元素  确定宽度位置信息,并设置css样式 [contain](https://developer.mozilla.org/zh-CN/docs/Web/CSS/contain 'css contain'),此样式可以使得重绘元素产生绘制隔离,从而不去出发兄弟节点的重绘.

